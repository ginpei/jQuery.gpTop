/**
 * jQuery.gpTop 1.0
 * http://ginpen.com/jquery/gptop/
 * https://github.com/ginpei/jQuery.gpTop
 *
 * Copyright (c) 2011 Takanashi Ginpei
 * http://ginpen.com
 *
 * Released under the MIT License.
 * http://www.opensource.org/licenses/mit-license.php
 */
(function(b){try{if(window.com.ginpen.gpTop){return}}catch(c){}if(!window.com){window.com={}}if(!com.ginpen){com.ginpen={}}var a=com.ginpen.gpTop=function(){this.__constructor.apply(this,arguments)};b.extend(a,{VERSION:"1.0",settings:{duration:200},build:function(d,e){var f=this._init(d,e);this._bind(f)},_init:function(d,e){var f=new a(d,e);d.data("gpTop",f);return f},_bind:function(d){b(window).scroll(function(e){d.toggle()});d.toElement().click(function(e){e.preventDefault();b("html, body").animate({scrollTop:0},300)})},show:function(d,e){d.stop().show().fadeTo(e,1,function(){d.data("gpTop.visible",false)})},hide:function(d,e){d.stop().fadeTo(e,0,function(){d.hide().data("gpTop.visible",true)})},banpei:null});b.extend(a.prototype,{$el:null,toElement:function(){return this.$el},settings:null,__constructor:function(d,e){this.$el=d;this.settings=e||{}},_getScrollTop:function(){return document.documentElement.scrollTop||document.body.scrollTop},_getScreenHeight:function(){return document.documentElement.clientHeight},_isScrolled:function(){return(this._getScrollTop()>this._getScreenHeight())},_isVisible:function(d){return !!d.data("gpTop.visible")},_getDuration:function(d){return this.settings.duration},show:function(){var d=this.$el;var e=this._getDuration(true);if(b.isFunction(this.settings.show)){this.settings.show(d,e)}else{a.show(d,e)}},hide:function(){var d=this.$el;var e=this._getDuration(false);if(b.isFunction(this.settings.hide)){this.settings.hide(d,e)}else{a.hide(d,e)}},toggle:function(){if(this._isScrolled()){this.show()}else{this.hide()}},banpei:null});b.fn.gpTop=function(d){return this.each(function(e,f){a.build(b(f),d)})}}(jQuery));
